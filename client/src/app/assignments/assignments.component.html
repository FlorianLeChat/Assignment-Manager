<div id="toolbar">
	<!-- Lien vers l'accueil -->
	<a routerLink="/home"><mat-icon aria-hidden="false" fontIcon="home"></mat-icon></a>
	<!-- <a routerLink="/log"><mat-icon aria-hidden="false" fontIcon="perm_identity"></mat-icon></a> -->
</div>

<mat-sidenav-container id="sidenav" mode="side" *ngIf="isLogged">
	<mat-list>
		<mat-nav-list class="menuNav"><a routerLink="/">Liste des devoirs</a></mat-nav-list>
		<mat-nav-list class="menuNav"><a routerLink="/">Ajout d'un devoir</a></mat-nav-list>
		<mat-nav-list class="menuNav"><a routerLink="/">Modification d'un devoir</a></mat-nav-list>
		<mat-nav-list class="menuNav"><a routerLink="/">Suppression d'un devoir</a></mat-nav-list>
		<mat-nav-list class="menuNav"><a routerLink="/">Génération de données de test</a></mat-nav-list>
	</mat-list>
</mat-sidenav-container>

<p>{{titre}}</p> <!--titre vient du fichier .ts-->
<p>Nb total de pages: {{totalPages}}</p>
<p>Nb total d'assignments: {{totalDocs}}</p>

<div class="containerButtonPreviousNext">
	<button mat-raised-button color="primary"></button>&nbsp;
	<button mat-raised-button color="primary"></button>&nbsp;
	<button mat-raised-button color="primary"></button>&nbsp;
	<button mat-raised-button color="primary"></button>&nbsp;
</div>

<main class="container">
	<!--Boutton pour afficher le formulaire-->
	<div class="ajouterBtn" *ngIf="!formVisible">
		<button class="ajouterBtn" mat-flat-button color="accent" (click)="onAddAssignmentBtnClick()" *ngIf="isLogged">
			Ajouter Assignment
		</button>
	</div>

	<!-- Formulaire d'ajout d'un nouveau devoir -->
	<app-add-assignment *ngIf="formVisible"></app-add-assignment>

	<!-- <mat-list *ngFor="let assignment of assignments"></mat-list> -->
	<p *ngIf="dateRendu">{{nomDevoir}} date de rendu =  {{dateRendu | date:'dd/MM/yyyy'}}</p><!--le binding bi-directionnel-->

	<!--[ngStyle]="{'color': assignment.rendu ? 'green' : 'red'}"  (sans utiliser les classes en css) on met ça à l'intérieur du <div....>-->
	<!-- [ngClass]="{'rendu':assignment.rendu, 'nonRendu': !assignment.rendu}" (en utilisant des clases) on met ça à l'intérieur du <div....-->
	<mat-list *ngFor="let assignment of assignments"><!--assignments est le nom du tableau dans .ts -->
		<nav>
			<a routerLink="/assignment/{{assignment.id}}" [style.pointer-events]="isLogged ? 'auto' : 'none'" >
				<h3 mat-subheader>{{assignment.dateDeRendu | date:'dd/MM/yyyy'}}</h3>

				<mat-list-item (click)="assignmentClique(assignment)"><!--quand je clique, j'appelle la méthode assignmentClique()-->
					<li appRendu *ngIf="assignment.rendu; else nonSoumis">
						Devoir intitulé {{assignment.nom}}, à rendre le {{assignment.dateDeRendu | date:'dd/MM/yyyy'}}, soumis par l'élève.
					</li>

					<ng-template #nonSoumis> <!--on créer un template avec l'identifiant nonsoumis-->
						<li class="nonSoumis">Le devoir {{assignment.nom}} n'a pas été rendu.</li>
					</ng-template>

					<mat-divider></mat-divider> <!--pour faire un trait horizontal-->
				</mat-list-item>
			</a>
		</nav>
	</mat-list>

	<!-- <app-assignment-detail [assignmentTransmis]="assignmentSelectionne">

	</app-assignment-detail> -->
</main>

<!--event est l'assignment transmis par le fils
	onNouvelAssignment est une méthode du père qui récupère les données émises
-->
<!-- <app-add-assignment (nouvelAssignment)="onNouvelAssignment($event)"
	*ngIf="formVisible"
>
</app-add-assignment> -->